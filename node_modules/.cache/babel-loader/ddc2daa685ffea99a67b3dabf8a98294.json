{"ast":null,"code":"import _slicedToArray from\"/Users/aisteinlaw/Documents/Code/slack-clone/slack-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button}from\"@material-ui/core\";import{useRef}from\"react\";import{auth,db}from\"../firebase\";import{Container,Input}from\"../styles/ChatInput.style\";import firebase from\"firebase\";import{useAuthState}from\"react-firebase-hooks/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChatInput(_ref){var channelName=_ref.channelName,channelId=_ref.channelId,chatRef=_ref.chatRef;var inputRef=useRef(null);var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,1),user=_useAuthState2[0];var sendMessage=function sendMessage(e){e.preventDefault();if(!channelId)return false;db.collection(\"rooms\").doc(channelId).collection(\"messages\").add({message:inputRef.current.value,timestamp:firebase.firestore.FieldValue.serverTimestamp(),user:user.displayName,userImage:user.photoURL});chatRef.current.scrollIntoView({behavior:\"smooth\"});inputRef.current.value=null;};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(Input,{ref:inputRef,placeholder:\"Message #\".concat(channelName)}),/*#__PURE__*/_jsx(Button,{type:\"submit\",onClick:sendMessage,children:\"Send\"})]})});}export default ChatInput;","map":{"version":3,"sources":["/Users/aisteinlaw/Documents/Code/slack-clone/slack-clone/src/components/ChatInput.js"],"names":["Button","useRef","auth","db","Container","Input","firebase","useAuthState","ChatInput","channelName","channelId","chatRef","inputRef","user","sendMessage","e","preventDefault","collection","doc","add","message","current","value","timestamp","firestore","FieldValue","serverTimestamp","displayName","userImage","photoURL","scrollIntoView","behavior"],"mappings":"+KAAA,OAASA,MAAT,KAAuB,mBAAvB,CACA,OAASC,MAAT,KAAuB,OAAvB,CACA,OAASC,IAAT,CAAeC,EAAf,KAAyB,aAAzB,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,2BAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAASC,YAAT,KAA6B,2BAA7B,C,wFAEA,QAASC,CAAAA,SAAT,MAAwD,IAAnCC,CAAAA,WAAmC,MAAnCA,WAAmC,CAAtBC,SAAsB,MAAtBA,SAAsB,CAAXC,OAAW,MAAXA,OAAW,CAEpD,GAAMC,CAAAA,QAAQ,CAAGX,MAAM,CAAC,IAAD,CAAvB,CAFoD,kBAGrCM,YAAY,CAACL,IAAD,CAHyB,gDAG7CW,IAH6C,mBAKpD,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GAEA,GAAI,CAACN,SAAL,CAAgB,MAAO,MAAP,CAEhBP,EAAE,CAACc,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BR,SAA3B,EAAsCO,UAAtC,CAAiD,UAAjD,EAA6DE,GAA7D,CAAiE,CAC7DC,OAAO,CAAER,QAAQ,CAACS,OAAT,CAAiBC,KADmC,CAE7DC,SAAS,CAAEjB,QAAQ,CAACkB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFkD,CAG7Db,IAAI,CAAEA,IAAI,CAACc,WAHkD,CAI7DC,SAAS,CAAEf,IAAI,CAACgB,QAJ6C,CAAjE,EAOAlB,OAAO,CAACU,OAAR,CAAgBS,cAAhB,CAA+B,CAC3BC,QAAQ,CAAE,QADiB,CAA/B,EAIAnB,QAAQ,CAACS,OAAT,CAAiBC,KAAjB,CAAyB,IAAzB,CACH,CAjBD,CAmBA,mBACI,KAAC,SAAD,wBACI,qCACI,KAAC,KAAD,EACI,GAAG,CAAEV,QADT,CAEI,WAAW,oBAAcH,WAAd,CAFf,EADJ,cAKI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEK,WAA/B,kBALJ,GADJ,EADJ,CAaH,CAED,cAAeN,CAAAA,SAAf","sourcesContent":["import { Button } from \"@material-ui/core\"\nimport { useRef } from \"react\";\nimport { auth, db } from \"../firebase\";\nimport { Container, Input } from \"../styles/ChatInput.style\"\nimport firebase from \"firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\"\n\nfunction ChatInput({ channelName, channelId, chatRef }) {\n\n    const inputRef = useRef(null);\n    const [user] = useAuthState(auth);\n\n    const sendMessage = (e) => {\n        e.preventDefault();\n\n        if (!channelId) return false;\n\n        db.collection(\"rooms\").doc(channelId).collection(\"messages\").add({\n            message: inputRef.current.value,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            user: user.displayName,\n            userImage: user.photoURL,\n        });\n\n        chatRef.current.scrollIntoView({\n            behavior: \"smooth\",\n        });\n\n        inputRef.current.value = null;\n    }\n\n    return (\n        <Container>\n            <form>\n                <Input\n                    ref={inputRef}\n                    placeholder={`Message #${channelName}`}\n                />\n                <Button type=\"submit\" onClick={sendMessage}>\n                    Send\n                </Button>\n            </form>\n        </Container>\n    )\n}\n\nexport default ChatInput\n"]},"metadata":{},"sourceType":"module"}